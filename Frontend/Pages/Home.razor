@page "/"
@using Frontend.Services
@inject NavigationManager Navigation
@inject TokenGuard Guard

<div class="home-container">

    <section class="home-hero">
        <h1 class="home-hero__title" tabindex="-1">
            <img src="/images/logo.svg" alt="QuickGuess" class="home-hero__logo" />
            <span>Witamy w QuickGuess!</span>
        </h1>
        <p class="home-hero__subtitle">
            Wybierz jedną z naszych gier i sprawdź swoją wiedzę oraz refleks!
        </p>

        <button class="btn-hero" @onclick="GoPanel">
            <span class="btn-hero__glow"></span>
            <i class="fas fa-play"></i>
            Zaczynajmy
        </button>
    </section>

    <section class="home-cards">
        <article class="home-card is-music">
            <header class="home-card__head">
                <h2>🎵 Jaka to piosenka?</h2>
            </header>
            <p>Zgadnij utwór muzyczny na podstawie krótkiego fragmentu audio. Masz 20 sekund – im szybciej odpowiesz, tym więcej punktów zdobędziesz!</p>
            <p>Dostępne tryby:</p>
            <ul>
                <li><strong>Rankingowy</strong> – punkty są liczone, a Twoje wyniki trafiają do rankingu.</li>
                <li><strong>Treningowy</strong> – bez presji, ćwicz bez zdobywania punktów.</li>
            </ul>
        </article>

        <article class="home-card is-movie">
            <header class="home-card__head">
                <h2>🎬 Jaki to film?</h2>
            </header>
            <p>Rozpoznaj film po pojedynczym kadrze. Masz 20 sekund – szybkość to klucz do wysokiego wyniku!</p>
            <p>Dostępne tryby:</p>
            <ul>
                <li><strong>Rankingowy</strong> – zdobywaj punkty i rywalizuj z innymi graczami.</li>
                <li><strong>Treningowy</strong> – tryb bez punktacji, idealny do nauki.</li>
            </ul>
        </article>
    </section>
</div>

<style>
    html, body 
    {
        overflow: hidden;
        height: 100vh;
    }
</style>

@code {
    private async Task GoPanel()
    {
        
        if (await Guard.EnsureValidTokenOrRedirect("/panel"))
            Navigation.NavigateTo("/panel");
    }
} 
